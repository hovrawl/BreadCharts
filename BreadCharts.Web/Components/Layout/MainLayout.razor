@inherits LayoutComponentBase
@inject NavigationManager NavigationManager;

<FluentLayout>
    <FluentHeader>
        Chart Stopper
        <FluentSpacer />
        <AuthorizeView>
            <Authorized>
                <FluentProfileMenu 
                    Status="@PresenceStatus.Available"
                    HeaderLabel="Microsoft"
                    Initials="@(context.User.Identity?.Name?[..1])"
                    FullName="@context.User.Identity?.Name"
                    EMail="@context.User.Identity?.Name"
                    PopoverStyle="min-width: 330px;" 
                    OnFooterLinkClick="@(() => NavigationManager.NavigateTo("Account/Manage"))"
                    OnHeaderButtonClick="@(() => NavigationManager.NavigateTo("Account/Logout"))"
                    />
            </Authorized>
            <NotAuthorized>
                <FluentNavLink Href="Account/Register">Register</FluentNavLink>
                <FluentNavLink Href="Account/Login">Login</FluentNavLink>
            </NotAuthorized>
        </AuthorizeView>
    </FluentHeader>
    <FluentStack Class="main" Orientation="Orientation.Horizontal" Width="100%">
        <NavMenu/>
        <FluentBodyContent Class="body-content">
            <div class="content">
                @Body
            </div>
        </FluentBodyContent>
    </FluentStack>
    @* <FluentFooter> *@
    @*     <a href="https://www.fluentui-blazor.net" target="_blank">Documentation and demos</a> *@
    @*     <FluentSpacer/> *@
    @*     <a href="https://learn.microsoft.com/en-us/aspnet/core/blazor" target="_blank">About Blazor</a> *@
    @* </FluentFooter> *@
</FluentLayout>

<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">🗙</span>
</div>